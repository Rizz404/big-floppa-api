{"version":3,"sources":["../../src/migration/1723476165854-Init.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class Init1723476165854 implements MigrationInterface {\n    name = 'Init1723476165854'\n\n    public async up(queryRunner: QueryRunner): Promise<void> {\n        await queryRunner.query(`CREATE TABLE \\`profile\\` (\\`id\\` varchar(36) NOT NULL, \\`firstname\\` varchar(50) NOT NULL, \\`lastname\\` varchar(50) NOT NULL, \\`profilePicture\\` varchar(255) NOT NULL, \\`gender\\` enum ('0', '1', '2') NOT NULL, \\`age\\` smallint NOT NULL, \\`phoneNumber\\` varchar(20) NOT NULL, \\`bio\\` text NOT NULL, \\`createdAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \\`updatedAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\\`id\\`)) ENGINE=InnoDB`);\n        await queryRunner.query(`CREATE TABLE \\`user\\` (\\`id\\` varchar(36) NOT NULL, \\`username\\` varchar(50) NOT NULL, \\`email\\` varchar(255) NOT NULL, \\`password\\` varchar(255) NOT NULL, \\`role\\` enum ('0', '1') NOT NULL DEFAULT '1', \\`isOauth\\` tinyint NOT NULL DEFAULT 0, \\`lastLogin\\` datetime NOT NULL, \\`isVerified\\` tinyint NOT NULL DEFAULT 0, \\`createdAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \\`updatedAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \\`profileId\\` varchar(36) NULL, UNIQUE INDEX \\`IDX_78a916df40e02a9deb1c4b75ed\\` (\\`username\\`), UNIQUE INDEX \\`REL_9466682df91534dd95e4dbaa61\\` (\\`profileId\\`), PRIMARY KEY (\\`id\\`)) ENGINE=InnoDB`);\n        await queryRunner.query(`ALTER TABLE \\`user\\` ADD CONSTRAINT \\`FK_9466682df91534dd95e4dbaa616\\` FOREIGN KEY (\\`profileId\\`) REFERENCES \\`profile\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<void> {\n        await queryRunner.query(`ALTER TABLE \\`user\\` DROP FOREIGN KEY \\`FK_9466682df91534dd95e4dbaa616\\``);\n        await queryRunner.query(`DROP INDEX \\`REL_9466682df91534dd95e4dbaa61\\` ON \\`user\\``);\n        await queryRunner.query(`DROP INDEX \\`IDX_78a916df40e02a9deb1c4b75ed\\` ON \\`user\\``);\n        await queryRunner.query(`DROP TABLE \\`user\\``);\n        await queryRunner.query(`DROP TABLE \\`profile\\``);\n    }\n\n}\n"],"names":["Init1723476165854","name","up","queryRunner","query","down"],"mappings":"uFAEaA,2DAAAA,oBAAN,OAAMA,kBACTC,KAAO,mBAAmB,AAE1B,OAAaC,GAAGC,WAAwB,CAAiB,CACrD,MAAMA,YAAYC,KAAK,CAAC,CAAC,8eAA8e,CAAC,CACxgB,OAAMD,YAAYC,KAAK,CAAC,CAAC,oqBAAoqB,CAAC,CAC9rB,OAAMD,YAAYC,KAAK,CAAC,CAAC,yKAAyK,CAAC,CACvM,CAEA,MAAaC,KAAKF,WAAwB,CAAiB,CACvD,MAAMA,YAAYC,KAAK,CAAC,CAAC,wEAAwE,CAAC,CAClG,OAAMD,YAAYC,KAAK,CAAC,CAAC,yDAAyD,CAAC,CACnF,OAAMD,YAAYC,KAAK,CAAC,CAAC,yDAAyD,CAAC,CACnF,OAAMD,YAAYC,KAAK,CAAC,CAAC,mBAAmB,CAAC,CAC7C,OAAMD,YAAYC,KAAK,CAAC,CAAC,sBAAsB,CAAC,CACpD,CAEJ"}