{"version":3,"sources":["../../src/migration/1723618497646-AddAddressForUser.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddAddressForUser1723618497646 implements MigrationInterface {\n    name = 'AddAddressForUser1723618497646'\n\n    public async up(queryRunner: QueryRunner): Promise<void> {\n        await queryRunner.query(`CREATE TABLE \\`cat_breed\\` (\\`id\\` varchar(36) NOT NULL, \\`name\\` varchar(100) NOT NULL, \\`description\\` text NOT NULL, \\`createdAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \\`updatedAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \\`authorId\\` varchar(36) NULL, UNIQUE INDEX \\`IDX_c983ff7a1fea2b6d91f2adf20d\\` (\\`name\\`), PRIMARY KEY (\\`id\\`)) ENGINE=InnoDB`);\n        await queryRunner.query(`CREATE TABLE \\`user_address\\` (\\`id\\` varchar(36) NOT NULL, \\`fullAddress\\` text NOT NULL, \\`createdAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \\`updatedAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \\`userId\\` varchar(36) NULL, \\`countryId\\` varchar(36) NULL, \\`provinceId\\` varchar(36) NULL, \\`cityId\\` varchar(36) NULL, \\`districtId\\` varchar(36) NULL, \\`villageId\\` varchar(36) NULL, PRIMARY KEY (\\`id\\`)) ENGINE=InnoDB`);\n        await queryRunner.query(`CREATE TABLE \\`country\\` (\\`id\\` varchar(36) NOT NULL, \\`name\\` varchar(255) NOT NULL, \\`description\\` text NULL, \\`createdAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \\`updatedAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \\`IDX_2c5aa339240c0c3ae97fcc9dc4\\` (\\`name\\`), PRIMARY KEY (\\`id\\`)) ENGINE=InnoDB`);\n        await queryRunner.query(`CREATE TABLE \\`province\\` (\\`id\\` varchar(36) NOT NULL, \\`name\\` varchar(255) NOT NULL, \\`description\\` text NULL, \\`createdAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \\`updatedAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \\`countryId\\` varchar(36) NULL, UNIQUE INDEX \\`IDX_aa290c4049a8aa685a81483389\\` (\\`name\\`), PRIMARY KEY (\\`id\\`)) ENGINE=InnoDB`);\n        await queryRunner.query(`CREATE TABLE \\`city\\` (\\`id\\` varchar(36) NOT NULL, \\`name\\` varchar(255) NOT NULL, \\`description\\` text NULL, \\`createdAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \\`updatedAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \\`provinceId\\` varchar(36) NULL, UNIQUE INDEX \\`IDX_f8c0858628830a35f19efdc0ec\\` (\\`name\\`), PRIMARY KEY (\\`id\\`)) ENGINE=InnoDB`);\n        await queryRunner.query(`CREATE TABLE \\`district\\` (\\`id\\` varchar(36) NOT NULL, \\`name\\` varchar(255) NOT NULL, \\`description\\` text NULL, \\`createdAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \\`updatedAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \\`cityId\\` varchar(36) NULL, UNIQUE INDEX \\`IDX_d9ed355e46edb25f094ad3a646\\` (\\`name\\`), PRIMARY KEY (\\`id\\`)) ENGINE=InnoDB`);\n        await queryRunner.query(`CREATE TABLE \\`village\\` (\\`id\\` varchar(36) NOT NULL, \\`name\\` varchar(255) NOT NULL, \\`description\\` text NULL, \\`createdAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \\`updatedAt\\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \\`districtId\\` varchar(36) NULL, UNIQUE INDEX \\`IDX_1bfc7956b7cba216dc5ddffdbd\\` (\\`name\\`), PRIMARY KEY (\\`id\\`)) ENGINE=InnoDB`);\n        await queryRunner.query(`ALTER TABLE \\`cat\\` ADD \\`catBreedId\\` varchar(36) NULL`);\n        await queryRunner.query(`ALTER TABLE \\`cat_breed\\` ADD CONSTRAINT \\`FK_f167b635bd5caa59938b5482b3d\\` FOREIGN KEY (\\`authorId\\`) REFERENCES \\`user\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`cat\\` ADD CONSTRAINT \\`FK_89fa97bd4aa77e0f8e16b7ad1f1\\` FOREIGN KEY (\\`catBreedId\\`) REFERENCES \\`cat_breed\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` ADD CONSTRAINT \\`FK_1abd8badc4a127b0f357d9ecbc2\\` FOREIGN KEY (\\`userId\\`) REFERENCES \\`user\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` ADD CONSTRAINT \\`FK_c82c2faa0ad2b5a847cc01887e4\\` FOREIGN KEY (\\`countryId\\`) REFERENCES \\`country\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` ADD CONSTRAINT \\`FK_c038161be1ee4d3305243da9566\\` FOREIGN KEY (\\`provinceId\\`) REFERENCES \\`province\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` ADD CONSTRAINT \\`FK_405e2633f40f4597ae9cb6d589d\\` FOREIGN KEY (\\`cityId\\`) REFERENCES \\`city\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` ADD CONSTRAINT \\`FK_ee33dd3bf0b594748ff35497677\\` FOREIGN KEY (\\`districtId\\`) REFERENCES \\`district\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` ADD CONSTRAINT \\`FK_1c91963ad94611e0011e393fad6\\` FOREIGN KEY (\\`villageId\\`) REFERENCES \\`village\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`province\\` ADD CONSTRAINT \\`FK_493e19852e51a27ff8e544fd8cc\\` FOREIGN KEY (\\`countryId\\`) REFERENCES \\`country\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`city\\` ADD CONSTRAINT \\`FK_95959bed787b5e4fd4be4e94fc5\\` FOREIGN KEY (\\`provinceId\\`) REFERENCES \\`province\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`district\\` ADD CONSTRAINT \\`FK_148f1c944d0fec4114a54984da1\\` FOREIGN KEY (\\`cityId\\`) REFERENCES \\`city\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n        await queryRunner.query(`ALTER TABLE \\`village\\` ADD CONSTRAINT \\`FK_4bbcf61a66427789a31014a15cf\\` FOREIGN KEY (\\`districtId\\`) REFERENCES \\`district\\`(\\`id\\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<void> {\n        await queryRunner.query(`ALTER TABLE \\`village\\` DROP FOREIGN KEY \\`FK_4bbcf61a66427789a31014a15cf\\``);\n        await queryRunner.query(`ALTER TABLE \\`district\\` DROP FOREIGN KEY \\`FK_148f1c944d0fec4114a54984da1\\``);\n        await queryRunner.query(`ALTER TABLE \\`city\\` DROP FOREIGN KEY \\`FK_95959bed787b5e4fd4be4e94fc5\\``);\n        await queryRunner.query(`ALTER TABLE \\`province\\` DROP FOREIGN KEY \\`FK_493e19852e51a27ff8e544fd8cc\\``);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` DROP FOREIGN KEY \\`FK_1c91963ad94611e0011e393fad6\\``);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` DROP FOREIGN KEY \\`FK_ee33dd3bf0b594748ff35497677\\``);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` DROP FOREIGN KEY \\`FK_405e2633f40f4597ae9cb6d589d\\``);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` DROP FOREIGN KEY \\`FK_c038161be1ee4d3305243da9566\\``);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` DROP FOREIGN KEY \\`FK_c82c2faa0ad2b5a847cc01887e4\\``);\n        await queryRunner.query(`ALTER TABLE \\`user_address\\` DROP FOREIGN KEY \\`FK_1abd8badc4a127b0f357d9ecbc2\\``);\n        await queryRunner.query(`ALTER TABLE \\`cat\\` DROP FOREIGN KEY \\`FK_89fa97bd4aa77e0f8e16b7ad1f1\\``);\n        await queryRunner.query(`ALTER TABLE \\`cat_breed\\` DROP FOREIGN KEY \\`FK_f167b635bd5caa59938b5482b3d\\``);\n        await queryRunner.query(`ALTER TABLE \\`cat\\` DROP COLUMN \\`catBreedId\\``);\n        await queryRunner.query(`DROP INDEX \\`IDX_1bfc7956b7cba216dc5ddffdbd\\` ON \\`village\\``);\n        await queryRunner.query(`DROP TABLE \\`village\\``);\n        await queryRunner.query(`DROP INDEX \\`IDX_d9ed355e46edb25f094ad3a646\\` ON \\`district\\``);\n        await queryRunner.query(`DROP TABLE \\`district\\``);\n        await queryRunner.query(`DROP INDEX \\`IDX_f8c0858628830a35f19efdc0ec\\` ON \\`city\\``);\n        await queryRunner.query(`DROP TABLE \\`city\\``);\n        await queryRunner.query(`DROP INDEX \\`IDX_aa290c4049a8aa685a81483389\\` ON \\`province\\``);\n        await queryRunner.query(`DROP TABLE \\`province\\``);\n        await queryRunner.query(`DROP INDEX \\`IDX_2c5aa339240c0c3ae97fcc9dc4\\` ON \\`country\\``);\n        await queryRunner.query(`DROP TABLE \\`country\\``);\n        await queryRunner.query(`DROP TABLE \\`user_address\\``);\n        await queryRunner.query(`DROP INDEX \\`IDX_c983ff7a1fea2b6d91f2adf20d\\` ON \\`cat_breed\\``);\n        await queryRunner.query(`DROP TABLE \\`cat_breed\\``);\n    }\n\n}\n"],"names":["AddAddressForUser1723618497646","name","up","queryRunner","query","down"],"mappings":"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"}