Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"userRouter",{enumerable:true,get:function(){return router}});const _usercontroller=_interop_require_default(require("../controllers/user.controller"));const _userdto=require("../dto/user.dto");const _Userentity=require("../entity/User.entity");const _authmiddleware=require("../middleware/auth.middleware");const _dtovalidationmiddleware=_interop_require_default(require("../middleware/dto.validation.middleware"));const _roleaccessmiddleware=_interop_require_default(require("../middleware/role.access.middleware"));const _express=_interop_require_default(require("express"));function _interop_require_default(obj){return obj&&obj.__esModule?obj:{default:obj}}const router=_express.default.Router();router.route("/").get(_authmiddleware.auth,(0,_roleaccessmiddleware.default)(_Userentity.UserRole.ADMIN),(0,_dtovalidationmiddleware.default)("query",_userdto.UserQueryDto),_usercontroller.default.getUsers).post(_authmiddleware.auth,(0,_roleaccessmiddleware.default)(_Userentity.UserRole.ADMIN),(0,_dtovalidationmiddleware.default)("body",_userdto.CreateUserDto),_usercontroller.default.createUser);router.route("/profile").get(_authmiddleware.auth,(req,res)=>{res.json(req.user)}).patch(_authmiddleware.auth,(0,_dtovalidationmiddleware.default)("body",_userdto.UpdateUserDto),_usercontroller.default.updateUserProfile);router.patch("/update-role/:userId",_authmiddleware.auth,(0,_roleaccessmiddleware.default)(_Userentity.UserRole.ADMIN),(0,_dtovalidationmiddleware.default)("body",_userdto.UpdateUserRoleDto),_usercontroller.default.updateUserRole);router.patch("/verify/:userId",_authmiddleware.auth,(0,_roleaccessmiddleware.default)(_Userentity.UserRole.ADMIN),_usercontroller.default.verifiedUser);router.patch("/update-password",_authmiddleware.auth,(0,_dtovalidationmiddleware.default)("body",_userdto.UpdateUserPasswordDto),_usercontroller.default.updateUserPassword);router.route("/:userId").get(_usercontroller.default.getUserById).delete(_authmiddleware.auth,(0,_roleaccessmiddleware.default)(_Userentity.UserRole.ADMIN),_usercontroller.default.deleteUserById);
//# sourceMappingURL=user.route.js.map