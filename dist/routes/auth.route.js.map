{"version":3,"sources":["../../src/routes/auth.route.ts"],"sourcesContent":["import authController from \"../controllers/auth.controller\";\r\nimport { CreateUserDto, LoginDto } from \"../dto/user.dto\";\r\nimport { auth } from \"../middleware/auth.middleware\";\r\nimport validateDto from \"../middleware/dto.validation.middleware\";\r\nimport express from \"express\";\r\nimport passport from \"passport\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\r\n  \"/register\",\r\n  validateDto(\"body\", CreateUserDto),\r\n  authController.register\r\n);\r\nrouter.post(\"/login\", validateDto(\"body\", LoginDto), authController.login);\r\nrouter.get(\r\n  \"/google\",\r\n  passport.authenticate(\"google\", { accessType: \"offline\", prompt: \"consent\" })\r\n);\r\n\r\nrouter.get(\r\n  \"/google/callback\",\r\n  passport.authenticate(\"google\", { failureRedirect: \"/login\" }),\r\n  authController.googleOauthLogin\r\n);\r\n\r\nrouter.post(\"/refresh\", authController.refresh);\r\nrouter.post(\"/logout\", auth, authController.logout);\r\n\r\nexport { router as authRouter };\r\n"],"names":["authRouter","router","express","Router","post","validateDto","CreateUserDto","authController","register","LoginDto","login","get","passport","authenticate","accessType","prompt","failureRedirect","googleOauthLogin","refresh","auth","logout"],"mappings":"uFA6BmBA,oDAAVC,iEA7BkB,0DACa,iDACnB,iGACG,4FACJ,6DACC,iGAErB,MAAMA,OAASC,gBAAO,CAACC,MAAM,GAE7BF,OAAOG,IAAI,CACT,YACAC,GAAAA,gCAAW,EAAC,OAAQC,sBAAa,EACjCC,uBAAc,CAACC,QAAQ,EAEzBP,OAAOG,IAAI,CAAC,SAAUC,GAAAA,gCAAW,EAAC,OAAQI,iBAAQ,EAAGF,uBAAc,CAACG,KAAK,EACzET,OAAOU,GAAG,CACR,UACAC,iBAAQ,CAACC,YAAY,CAAC,SAAU,CAAEC,WAAY,UAAWC,OAAQ,SAAU,IAG7Ed,OAAOU,GAAG,CACR,mBACAC,iBAAQ,CAACC,YAAY,CAAC,SAAU,CAAEG,gBAAiB,QAAS,GAC5DT,uBAAc,CAACU,gBAAgB,EAGjChB,OAAOG,IAAI,CAAC,WAAYG,uBAAc,CAACW,OAAO,EAC9CjB,OAAOG,IAAI,CAAC,UAAWe,oBAAI,CAAEZ,uBAAc,CAACa,MAAM"}