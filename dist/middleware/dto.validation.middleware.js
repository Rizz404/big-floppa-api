Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"default",{enumerable:true,get:function(){return _default}});const _getErrorMessage=_interop_require_default(require("../utils/getErrorMessage"));const _classtransformer=require("class-transformer");const _classvalidator=require("class-validator");function _interop_require_default(obj){return obj&&obj.__esModule?obj:{default:obj}}const validateDto=(validate,dtoClass)=>{return async(req,res,next)=>{try{let dtoInstance;if(validate==="body"){dtoInstance=(0,_classtransformer.plainToInstance)(dtoClass,req.body)}else{dtoInstance=(0,_classtransformer.plainToInstance)(dtoClass,req.query)}await (0,_classvalidator.validateOrReject)(dtoInstance);next()}catch(error){res.status(500).json({message:(0,_getErrorMessage.default)(error)})}}};const _default=validateDto;
//# sourceMappingURL=dto.validation.middleware.js.map